# 2018.12.21

## Flask

- import 추가 내용

  > flash를 쓰기 위해서 url_for, redirect, flash를 추가한다.

  ```python
  import random
  import requests
  from flask import Flask, render_template, request, url_for, redirect, flash
  from bs4 import BeautifulSoup
  ```

- Flash 사용하기

  > return render_template() 대신 flash를 써서 글을 띄워줌.
  >
  > redirect로 외부 함수로 보내줍니다.  
  >
  > 받아야 할 외부인자가 있다면 redirect(url_for("search", va))

  ```python
  if player_name is None:
          flash(search_name + "(은)는 존재하지 않는 유저입니다.")
          return redirect(url_for("search", va))
  ```

## 로또

- 세트 이론

  > 로또 뽑기를 위한 세트 이론 정리

  ```python
  """
  세트에 관한 이론
  1. 세트는 중복, 순서가 없다
  2. 세트를 생성하기 위해서는  a = {}가 아니라 a = set()으로 생성해야 한다. 전자는 딕셔너리다.
  
  차집합, 교집합, 합집합 등 실시
  
  set1 = set([1, 2, 3, 4, 5, 6, 7,])
  set2 = set([5, 6, ,7, 8, 9, 10, 11])
  교집합: set1 & set2, set1.intersection(set2)
  => {5, 6, 7}
  
  합집합: set1 | set2, set.union(set2)
  
  차집합: set2 - set1
  """
  ```

- 로또 코드

  > 로또 번호 랜덤하게 해서 1등 될 때까지 몇번인지 확인하는 코드
  >
  > 세트를 이용해서 짬. for문 돌려서 배열 비교는 너무 오래 걸려!

  ```python
  #세트를 이용한 풀이.
  win_nums = set()
  count_i_try = 0
  
  # input_status = 1
  # while input_status:
  #     what_time_do_you_want = input("원하는 회차를 입력하세요(숫자, 1~837): ")
  #     if int(what_time_do_you_want) > 1 and int(what_time_do_you_want) < 838:
  #         input_status = 0
  
  # url = "https://dhlottery.co.kr/common.do?method=getLottoNumber&drwNo=" + str(what_time_do_you_want)
  
  url = "https://dhlottery.co.kr/common.do?method=getLottoNumber&drwNo=837"
  req = requests.get(url)
  lotto = req.json()
  
  for i in range(1, 7):
      win_nums.add(lotto["drwtNo"+str(i)])
  
  while True:
      count_i_try += 1
      my_num = set(random.sample(range(1,47), 6))
      checklen = len(my_num - win_nums)
  
      if checklen == 0:
          break
      elif checklen == 1:
          if lotto["bnusNo"] in my_num:
              print(str(count_i_try) + "번만큼 시도하여 2등이 되었습니다.")
          else:
              print(str(count_i_try) + "번만큼 시도하여 3등이 되었습니다.")
      # elif checklen == 2:
      #     print(str(count_i_try) + "번만큼 시도하여 4등이 되었습니다.")
  
  print(str(count_i_try) + "번만큼 시도하여 1등이 되었습니다.")
  ```
